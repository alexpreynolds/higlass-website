{"version":3,"sources":["base.js"],"names":["global","factory","exports","module","define","amd","base","this","disableDarkTheme","window","localStorage","getItem","removeItem","$$1","document","body","addClass","removeClass","setItem","global$1","Function","toArray","collection","length","result","Array","i","each","callback","thisArg","undefined","nodeType","call","extend","target","_len","arguments","sources","_key","forEach","src","prop","uniq","filter","item","index","indexOf","isPrototypeSet","reFragment","reSingleTag","reSimpleSelector","$$2","selector","context","Wrapper","test","createFragment","querySelector","querySelectorAll","wrap","find","nodes","node","child","push","matches","Element","prototype","_matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","isSimpleSelector","getElementById","slice","getElementsByClassName","getElementsByTagName","html","createElement","RegExp","$1","elements","container","children","childNodes","innerHTML","l","fn","constructor","Object","freeze","$","ArrayProto","every","each$1","map","pop","reduce","reduceRight","reverse","shift","some","unshift","array","_typeof","Symbol","iterator","obj","classCallCheck","instance","Constructor","TypeError","BaseClass","api","apply","isNumeric","value","isNaN","parseFloat","isFinite","camelize","replace","letter","toUpperCase","dasherize","toLowerCase","css","key","styleProps","val","style","removeProperty","css$1","forEach$1","append","Node","insertAdjacentHTML","appendChild","NodeList","bind","_each","prepend","insertBefore","firstChild","before","parentNode","after","nextSibling","clone","_clone","cloneNode","el","elm","dom","attr","getAttribute","_attr","setAttribute","removeAttr","removeAttribute","dom_attr","split","_each$1","toggleClass","hasClass","classList","contains","fnName","className","dom_class","compareDocumentPosition","DOCUMENT_POSITION_DISCONNECTED","dom_contains","DATAKEYPROP","data","dom_data","appendTo","empty","remove","removeChild","replaceWith","text","textContent","dom_extra","fragment","dom_html","closest","parentElement","_this","_ret","n","v","selector_closest","_this3","on","eventNames","handler","useCapture","once","parts","namespace","eventListener","eventName","proxyHandler","delegateHandler","listener","event","off","addEventListener","getHandlers","_this2","handlers","removeEventListener","splice","clearHandlers","one","eventKeyProp","id","unusedKeys","augmentEvent","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","isDefaultPrevented","methodName","testMethodName","originalMethod","_preventDefault","eventTarget","_target","currentTarget","isPropagationStopped","unbind","reMouseEvent","reKeyEvent","trigger","type","_ref","_ref$bubbles","bubbles","_ref$cancelable","cancelable","_ref$preventDefault","EventConstructor","getEventConstructor","detail","isEventBubblingInDetachedTree","isAttachedToDocument","dispatchEvent","triggerForPath","supportsOtherEventConstructors","MouseEvent","KeyboardEvent","CustomEvent","triggerHandler","ownerDocument","documentElement","params","directEventMethods","customEvent","createEvent","initCustomEvent","isBubbling","doc","parent","e","event_trigger","ready","readyState","event_ready","previousLib","noConflict","noconflict","contents","eq","get$1","siblings","sibling","start","end","selector_extra","get","isFunction","isArray","$$$1","version","defineProperty"],"mappings":"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","file":"base.js","sourcesContent":["/* Copyright HiGlass Team: Global scripts */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.base = global.base || {})));\n}(this, (function (exports) { 'use strict';\n\n/*\n * @module Util\n */\n\n/*\n * Reference to the global scope\n * @private\n */\n\nvar global$1 = new Function('return this')();\n\n/**\n * Convert `NodeList` to `Array`.\n *\n * @param {NodeList|Array} collection\n * @return {Array}\n * @private\n */\n\nvar toArray = function toArray(collection) {\n  var length = collection.length;\n  var result = new Array(length);\n  for (var i = 0; i < length; i++) {\n    result[i] = collection[i];\n  }\n  return result;\n};\n\n/**\n * Faster alternative to [].forEach method\n *\n * @param {Node|NodeList|Array} collection\n * @param {Function} callback\n * @return {Node|NodeList|Array}\n * @private\n */\n\nvar each = function each(collection, callback, thisArg) {\n  var length = collection.length;\n  if (length !== undefined && collection.nodeType === undefined) {\n    for (var i = 0; i < length; i++) {\n      callback.call(thisArg, collection[i], i, collection);\n    }\n  } else {\n    callback.call(thisArg, collection, 0, collection);\n  }\n  return collection;\n};\n\n/**\n * Assign enumerable properties from source object(s) to target object\n *\n * @method extend\n * @param {Object} target Object to extend\n * @param {Object} [source] Object to extend from\n * @return {Object} Extended object\n * @example\n *     $.extend({a: 1}, {b: 2});\n *     // {a: 1, b: 2}\n * @example\n *     $.extend({a: 1}, {b: 2}, {a: 3});\n *     // {a: 3, b: 2}\n */\n\nvar extend = function extend(target) {\n  for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  sources.forEach(function (src) {\n    for (var prop in src) {\n      target[prop] = src[prop];\n    }\n  });\n  return target;\n};\n\n/**\n * Return the collection without duplicates\n *\n * @param collection Collection to remove duplicates from\n * @return {Node|NodeList|Array}\n * @private\n */\n\nvar uniq = function uniq(collection) {\n  return collection.filter(function (item, index) {\n    return collection.indexOf(item) === index;\n  });\n};\n\n/**\n * @module Selector\n */\n\nvar isPrototypeSet = false;\n\nvar reFragment = /^\\s*<(\\w+|!)[^>]*>/;\nvar reSingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;\nvar reSimpleSelector = /^[\\.#]?[\\w-]*$/;\n\n/*\n * Versatile wrapper for `querySelectorAll`.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @param {String|Node|NodeList} context=document The context for the selector to query elements.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     var $items = $(.items');\n * @example\n *     var $element = $(domElement);\n * @example\n *     var $list = $(nodeList, document.body);\n * @example\n *     var $element = $('<p>evergreen</p>');\n */\n\nvar $$2 = function $$2(selector) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n\n  var collection = void 0;\n\n  if (!selector) {\n\n    collection = document.querySelectorAll(null);\n  } else if (selector instanceof Wrapper) {\n\n    return selector;\n  } else if (typeof selector !== 'string') {\n\n    collection = selector.nodeType || selector === window ? [selector] : selector;\n  } else if (reFragment.test(selector)) {\n\n    collection = createFragment(selector);\n  } else {\n\n    context = typeof context === 'string' ? document.querySelector(context) : context.length ? context[0] : context;\n\n    collection = querySelector(selector, context);\n  }\n\n  return wrap(collection);\n};\n\n/*\n * Find descendants matching the provided `selector` for each element in the collection.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @return {Object} The wrapped collection\n * @example\n *     $('.selector').find('.deep').$('.deepest');\n */\n\nvar find = function find(selector) {\n  var nodes = [];\n  each(this, function (node) {\n    return each(querySelector(selector, node), function (child) {\n      if (nodes.indexOf(child) === -1) {\n        nodes.push(child);\n      }\n    });\n  });\n  return $$2(nodes);\n};\n\n/*\n * Returns `true` if the element would be selected by the specified selector string; otherwise, returns `false`.\n *\n * @param {Node} element Element to test\n * @param {String} selector Selector to match against element\n * @return {Boolean}\n *\n * @example\n *     $.matches(element, '.match');\n */\n\nvar matches = function () {\n  var context = typeof Element !== 'undefined' ? Element.prototype : global$1;\n  var _matches = context.matches || context.matchesSelector || context.mozMatchesSelector || context.msMatchesSelector || context.oMatchesSelector || context.webkitMatchesSelector;\n  return function (element, selector) {\n    return _matches.call(element, selector);\n  };\n}();\n\n/*\n * Use the faster `getElementById`, `getElementsByClassName` or `getElementsByTagName` over `querySelectorAll` if possible.\n *\n * @private\n * @param {String} selector Query selector.\n * @param {Node} context The context for the selector to query elements.\n * @return {Object} NodeList, HTMLCollection, or Array of matching elements (depending on method used).\n */\n\nvar querySelector = function querySelector(selector, context) {\n\n  var isSimpleSelector = reSimpleSelector.test(selector);\n\n  if (isSimpleSelector) {\n    if (selector[0] === '#') {\n      var element = (context.getElementById ? context : document).getElementById(selector.slice(1));\n      return element ? [element] : [];\n    }\n    if (selector[0] === '.') {\n      return context.getElementsByClassName(selector.slice(1));\n    }\n    return context.getElementsByTagName(selector);\n  }\n\n  return context.querySelectorAll(selector);\n};\n\n/*\n * Create DOM fragment from an HTML string\n *\n * @private\n * @param {String} html String representing HTML.\n * @return {NodeList}\n */\n\nvar createFragment = function createFragment(html) {\n\n  if (reSingleTag.test(html)) {\n    return [document.createElement(RegExp.$1)];\n  }\n\n  var elements = [];\n  var container = document.createElement('div');\n  var children = container.childNodes;\n\n  container.innerHTML = html;\n\n  for (var i = 0, l = children.length; i < l; i++) {\n    elements.push(children[i]);\n  }\n\n  return elements;\n};\n\n/*\n * Calling `$(selector)` returns a wrapped collection of elements.\n *\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n * @return Object) The wrapped collection\n */\n\nvar wrap = function wrap(collection) {\n\n  if (!isPrototypeSet) {\n    Wrapper.prototype = $$2.fn;\n    Wrapper.prototype.constructor = Wrapper;\n    isPrototypeSet = true;\n  }\n\n  return new Wrapper(collection);\n};\n\n/*\n * Constructor for the Object.prototype strategy\n *\n * @constructor\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n */\n\nvar Wrapper = function Wrapper(collection) {\n  var i = 0;\n  var length = collection.length;\n  for (; i < length;) {\n    this[i] = collection[i++];\n  }\n  this.length = length;\n};\n\nvar selector = Object.freeze({\n\t$: $$2,\n\tfind: find,\n\tmatches: matches,\n\tWrapper: Wrapper\n});\n\n/**\n * @module Array\n */\n\nvar ArrayProto = Array.prototype;\n\n/**\n * Checks if the given callback returns a true(-ish) value for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Boolean} Whether each element passed the callback check.\n * @example\n *     $('.items').every(function(element) {\n *         return element.hasAttribute('active')\n *     });\n *     // true/false\n */\n\nvar every = ArrayProto.every;\n\n/**\n * Filter the collection by selector or function, and return a new collection with the result.\n *\n * @param {String|Function} selector Selector or function to filter the collection.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} A new wrapped collection\n * @chainable\n * @example\n *     $('.items').filter('.active');\n * @example\n *     $('.items').filter(function(element) {\n *         return element.hasAttribute('active')\n *     });\n */\n\nvar filter = function filter(selector, thisArg) {\n  var callback = typeof selector === 'function' ? selector : function (element) {\n    return matches(element, selector);\n  };\n  return $$2(ArrayProto.filter.call(this, callback, thisArg));\n};\n\n/**\n * Execute a function for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').forEach(function(element) {\n *         element.style.color = 'evergreen';\n *     );\n */\n\nvar forEach = function forEach(callback, thisArg) {\n  return each(this, callback, thisArg);\n};\n\nvar each$1 = forEach;\n\n/**\n * Returns the index of an element in the collection.\n *\n * @param {Node} element\n * @return {Number} The zero-based index, -1 if not found.\n * @example\n *     $('.items').indexOf(element);\n *     // 2\n */\n\nvar indexOf = ArrayProto.indexOf;\n\n/**\n * Create a new collection by executing the callback for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Array} Collection with the return value of the executed callback for each element.\n * @example\n *     $('.items').map(function(element) {\n *         return element.getAttribute('name')\n *     });\n *     // ['ever', 'green']\n */\n\nvar map = ArrayProto.map;\n\n/**\n * Removes the last element from the collection, and returns that element.\n *\n * @return {Object} The last element from the collection.\n * @example\n *     var lastElement = $('.items').pop();\n */\n\nvar pop = ArrayProto.pop;\n\n/**\n * Adds one or more elements to the end of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').push(element);\n */\n\nvar push = ArrayProto.push;\n\n/**\n * Apply a function against each element in the collection, and this accumulator function has to reduce it\n * to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     $('.items').reduce(function(previousValue, element, index, collection) {\n *         return previousValue + element.clientHeight;\n *     }, 0);\n *     // [total height of elements]\n */\n\nvar reduce = ArrayProto.reduce;\n\n/**\n * Apply a function against each element in the collection (from right-to-left), and this accumulator function has\n * to reduce it to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     $('.items').reduceRight(function(previousValue, element, index, collection) {\n *         return previousValue + element.textContent;\n *     }, '')\n *     // [reversed text of elements]\n */\n\nvar reduceRight = ArrayProto.reduceRight;\n\n/**\n * Reverses an array in place. The first array element becomes the last and the last becomes the first.\n *\n * @return {Object} The wrapped collection, reversed\n * @chainable\n * @example\n *     $('.items').reverse();\n */\n\nvar reverse = function reverse() {\n  return $$2(toArray(this).reverse());\n};\n\n/**\n * Removes the first element from the collection, and returns that element.\n *\n * @return {Object} The first element from the collection.\n * @example\n *     var firstElement = $('.items').shift();\n */\n\nvar shift = ArrayProto.shift;\n\n/**\n * Checks if the given callback returns a true(-ish) value for any of the elements in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @return {Boolean} Whether any element passed the callback check.\n * @example\n *     $('.items').some(function(element) {\n *         return element.hasAttribute('active')\n *     });\n *     // true/false\n */\n\nvar some = ArrayProto.some;\n\n/**\n * Adds one or more elements to the beginning of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').unshift(element);\n */\n\nvar unshift = ArrayProto.unshift;\n\nvar array = Object.freeze({\n\tevery: every,\n\tfilter: filter,\n\tforEach: forEach,\n\teach: each$1,\n\tindexOf: indexOf,\n\tmap: map,\n\tpop: pop,\n\tpush: push,\n\treduce: reduce,\n\treduceRight: reduceRight,\n\treverse: reverse,\n\tshift: shift,\n\tsome: some,\n\tunshift: unshift\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\n/**\n * @module BaseClass\n */\n\nvar BaseClass = function (api) {\n\n  /**\n   * Provide subclass for classes or components to extend from.\n   * The opposite and successor of plugins (no need to extend `$.fn` anymore, complete control).\n   *\n   * @return {Class} The class to extend from, including all `$.fn` methods.\n   * @example\n   *     import { BaseClass } from  'domtastic';\n   *\n   *     class MyComponent extends BaseClass {\n   *         doSomething() {\n   *             return this.addClass('.foo');\n   *         }\n   *     }\n   *\n   *     let component = new MyComponent('body');\n   *     component.doSomething();\n   *\n   * @example\n   *     import $ from  'domtastic';\n   *\n   *     class MyComponent extends $.BaseClass {\n   *         progress(value) {\n   *             return this.attr('data-progress', value);\n   *         }\n   *     }\n   *\n   *     let component = new MyComponent(document.body);\n   *     component.progress('ive').append('<p>enhancement</p>');\n   */\n\n  var BaseClass = function BaseClass() {\n    classCallCheck(this, BaseClass);\n\n    Wrapper.call(this, $$2.apply(undefined, arguments));\n  };\n\n  extend(BaseClass.prototype, api);\n  return BaseClass;\n};\n\n/**\n * @module CSS\n */\n\nvar isNumeric = function isNumeric(value) {\n  return !isNaN(parseFloat(value)) && isFinite(value);\n};\n\nvar camelize = function camelize(value) {\n  return value.replace(/-([\\da-z])/gi, function (matches, letter) {\n    return letter.toUpperCase();\n  });\n};\n\nvar dasherize = function dasherize(value) {\n  return value.replace(/([a-z\\d])([A-Z])/g, '$1-$2').toLowerCase();\n};\n\n/**\n * Get the value of a style property for the first element, or set one or more style properties for each element in the collection.\n *\n * @param {String|Object} key The name of the style property to get or set. Or an object containing key-value pairs to set as style properties.\n * @param {String} [value] The value of the style property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').css('padding-left'); // get\n *     $('.item').css('color', '#f00'); // set\n *     $('.item').css({'border-width': '1px', display: 'inline-block'}); // set multiple\n */\n\nvar css = function css(key, value) {\n\n  var styleProps = void 0,\n      prop = void 0,\n      val = void 0;\n\n  if (typeof key === 'string') {\n    key = camelize(key);\n\n    if (typeof value === 'undefined') {\n      var element = this.nodeType ? this : this[0];\n      if (element) {\n        val = element.style[key];\n        return isNumeric(val) ? parseFloat(val) : val;\n      }\n      return undefined;\n    }\n\n    styleProps = {};\n    styleProps[key] = value;\n  } else {\n    styleProps = key;\n    for (prop in styleProps) {\n      val = styleProps[prop];\n      delete styleProps[prop];\n      styleProps[camelize(prop)] = val;\n    }\n  }\n\n  each(this, function (element) {\n    for (prop in styleProps) {\n      if (styleProps[prop] || styleProps[prop] === 0) {\n        element.style[prop] = styleProps[prop];\n      } else {\n        element.style.removeProperty(dasherize(prop));\n      }\n    }\n  });\n\n  return this;\n};\n\nvar css$1 = Object.freeze({\n\tcss: css\n});\n\n/**\n * @module DOM\n */\n\nvar forEach$1 = Array.prototype.forEach;\n\n/**\n * Append element(s) to each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to append to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').append('<p>more</p>');\n */\n\nvar append = function append(element) {\n  if (this instanceof Node) {\n    if (typeof element === 'string') {\n      this.insertAdjacentHTML('beforeend', element);\n    } else {\n      if (element instanceof Node) {\n        this.appendChild(element);\n      } else {\n        var elements = element instanceof NodeList ? toArray(element) : element;\n        forEach$1.call(elements, this.appendChild.bind(this));\n      }\n    }\n  } else {\n    _each(this, append, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) at the beginning of each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place at the beginning of the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prepend('<span>start</span>');\n */\n\nvar prepend = function prepend(element) {\n  if (this instanceof Node) {\n    if (typeof element === 'string') {\n      this.insertAdjacentHTML('afterbegin', element);\n    } else {\n      if (element instanceof Node) {\n        this.insertBefore(element, this.firstChild);\n      } else {\n        var elements = element instanceof NodeList ? toArray(element) : element;\n        forEach$1.call(elements.reverse(), prepend.bind(this));\n      }\n    }\n  } else {\n    _each(this, prepend, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) before each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) before to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').before('<p>prefix</p>');\n */\n\nvar before = function before(element) {\n  if (this instanceof Node) {\n    if (typeof element === 'string') {\n      this.insertAdjacentHTML('beforebegin', element);\n    } else {\n      if (element instanceof Node) {\n        this.parentNode.insertBefore(element, this);\n      } else {\n        var elements = element instanceof NodeList ? toArray(element) : element;\n        forEach$1.call(elements, before.bind(this));\n      }\n    }\n  } else {\n    _each(this, before, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) after each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) after to the element(s). Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').after('<span>suf</span><span>fix</span>');\n */\n\nvar after = function after(element) {\n  if (this instanceof Node) {\n    if (typeof element === 'string') {\n      this.insertAdjacentHTML('afterend', element);\n    } else {\n      if (element instanceof Node) {\n        this.parentNode.insertBefore(element, this.nextSibling);\n      } else {\n        var elements = element instanceof NodeList ? toArray(element) : element;\n        forEach$1.call(elements.reverse(), after.bind(this));\n      }\n    }\n  } else {\n    _each(this, after, element);\n  }\n  return this;\n};\n\n/**\n * Clone a wrapped object.\n *\n * @return {Object} Wrapped collection of cloned nodes.\n * @example\n *     $(element).clone();\n */\n\nvar clone = function clone() {\n  return $$2(_clone(this));\n};\n\n/**\n * Clone an object\n *\n * @param {String|Node|NodeList|Array} element The element(s) to clone.\n * @return {String|Node|NodeList|Array} The cloned element(s)\n * @private\n */\n\nvar _clone = function _clone(element) {\n  if (typeof element === 'string') {\n    return element;\n  } else if (element instanceof Node) {\n    return element.cloneNode(true);\n  } else if ('length' in element) {\n    return [].map.call(element, function (el) {\n      return el.cloneNode(true);\n    });\n  }\n  return element;\n};\n\n/**\n * Specialized iteration, applying `fn` in reversed manner to a clone of each element, but the provided one.\n *\n * @param {NodeList|Array} collection\n * @param {Function} fn\n * @param {Node} element\n * @private\n */\n\nvar _each = function _each(collection, fn, element) {\n  var l = collection.length;\n  while (l--) {\n    var elm = l === 0 ? element : _clone(element);\n    fn.call(collection[l], elm);\n  }\n};\n\nvar dom = Object.freeze({\n\tappend: append,\n\tprepend: prepend,\n\tbefore: before,\n\tafter: after,\n\tclone: clone,\n\t_clone: _clone,\n\t_each: _each\n});\n\n/**\n * @module Attr\n */\n\n/**\n * Get the value of an attribute for the first element, or set one or more attributes for each element in the collection.\n *\n * @param {String|Object} key The name of the attribute to get or set. Or an object containing key-value pairs to set as attributes.\n * @param {String} [value] The value of the attribute to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').attr('attrName'); // get\n *     $('.item').attr('attrName', 'attrValue'); // set\n *     $('.item').attr({attr1: 'value1', 'attr-2': 'value2'}); // set multiple\n */\n\nvar attr = function attr(key, value) {\n\n  if (typeof key === 'string' && typeof value === 'undefined') {\n    var element = this.nodeType ? this : this[0];\n    return element ? element.getAttribute(key) : undefined;\n  }\n\n  return each(this, function (element) {\n    if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n      for (var _attr in key) {\n        element.setAttribute(_attr, key[_attr]);\n      }\n    } else {\n      element.setAttribute(key, value);\n    }\n  });\n};\n\n/**\n * Remove attribute from each element in the collection.\n *\n * @param {String} key Attribute name\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeAttr('attrName');\n */\n\nvar removeAttr = function removeAttr(key) {\n  return each(this, function (element) {\n    return element.removeAttribute(key);\n  });\n};\n\n\n\nvar dom_attr = Object.freeze({\n\tattr: attr,\n\tremoveAttr: removeAttr\n});\n\n/**\n * @module Class\n */\n\n/**\n * Add a class to the element(s)\n *\n * @param {String} value Space-separated class name(s) to add to the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').addClass('bar');\n *     $('.item').addClass('bar foo');\n */\n\nvar addClass = function addClass(value) {\n  if (value && value.length) {\n    each(value.split(' '), _each$1.bind(this, 'add'));\n  }\n  return this;\n};\n\n/**\n * Remove a class from the element(s)\n *\n * @param {String} value Space-separated class name(s) to remove from the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeClass('bar');\n *     $('.items').removeClass('bar foo');\n */\n\nvar removeClass = function removeClass(value) {\n  if (value && value.length) {\n    each(value.split(' '), _each$1.bind(this, 'remove'));\n  }\n  return this;\n};\n\n/**\n * Toggle a class at the element(s)\n *\n * @param {String} value Space-separated class name(s) to toggle at the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').toggleClass('bar');\n *     $('.item').toggleClass('bar foo');\n */\n\nvar toggleClass = function toggleClass(value) {\n  if (value && value.length) {\n    each(value.split(' '), _each$1.bind(this, 'toggle'));\n  }\n  return this;\n};\n\n/**\n * Check if the element(s) have a class.\n *\n * @param {String} value Check if the DOM element contains the class name. When applied to multiple elements,\n * returns `true` if _any_ of them contains the class name.\n * @return {Boolean} Whether the element's class attribute contains the class name.\n * @example\n *     $('.item').hasClass('bar');\n */\n\nvar hasClass = function hasClass(value) {\n  return (this.nodeType ? [this] : this).some(function (element) {\n    return element.classList.contains(value);\n  });\n};\n\n/**\n * Specialized iteration, applying `fn` of the classList API to each element.\n *\n * @param {String} fnName\n * @param {String} className\n * @private\n */\n\nvar _each$1 = function _each$1(fnName, className) {\n  return each(this, function (element) {\n    return element.classList[fnName](className);\n  });\n};\n\nvar dom_class = Object.freeze({\n\taddClass: addClass,\n\tremoveClass: removeClass,\n\ttoggleClass: toggleClass,\n\thasClass: hasClass\n});\n\n/**\n * @module contains\n */\n\n/**\n * Test whether an element contains another element in the DOM.\n *\n * @param {Element} container The element that may contain the other element.\n * @param {Element} element The element that may be a descendant of the other element.\n * @return {Boolean} Whether the `container` element contains the `element`.\n * @example\n *     $.contains(parentElement, childElement);\n *     // true/false\n */\n\nvar contains = function contains(container, element) {\n  if (!container || !element || container === element) {\n    return false;\n  } else if (container.contains) {\n    return container.contains(element);\n  } else if (container.compareDocumentPosition) {\n    return !(container.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_DISCONNECTED);\n  }\n  return false;\n};\n\nvar dom_contains = Object.freeze({\n\tcontains: contains\n});\n\n/**\n * @module Data\n */\n\nvar DATAKEYPROP = '__DOMTASTIC_DATA__';\n\n/**\n * Get data from first element, or set data for each element in the collection.\n *\n * @param {String} key The key for the data to get or set.\n * @param {String} [value] The data to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').data('attrName'); // get\n *     $('.item').data('attrName', {any: 'data'}); // set\n */\n\nvar data = function data(key, value) {\n\n  if (typeof key === 'string' && typeof value === 'undefined') {\n    var element = this.nodeType ? this : this[0];\n    return element && element[DATAKEYPROP] ? element[DATAKEYPROP][key] : undefined;\n  }\n\n  return each(this, function (element) {\n    element[DATAKEYPROP] = element[DATAKEYPROP] || {};\n    element[DATAKEYPROP][key] = value;\n  });\n};\n\n/**\n * Get property from first element, or set property on each element in the collection.\n *\n * @param {String} key The name of the property to get or set.\n * @param {String} [value] The value of the property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prop('attrName'); // get\n *     $('.item').prop('attrName', 'attrValue'); // set\n */\n\nvar prop = function prop(key, value) {\n\n  if (typeof key === 'string' && typeof value === 'undefined') {\n    var element = this.nodeType ? this : this[0];\n    return element && element ? element[key] : undefined;\n  }\n\n  return each(this, function (element) {\n    return element[key] = value;\n  });\n};\n\nvar dom_data = Object.freeze({\n\tdata: data,\n\tprop: prop\n});\n\n/**\n * @module DOM (extra)\n */\n\n/**\n * Append each element in the collection to the specified element(s).\n *\n * @param {Node|NodeList|Object} element What to append the element(s) to. Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').appendTo(container);\n */\n\nvar appendTo = function appendTo(element) {\n  var context = typeof element === 'string' ? $$2(element) : element;\n  append.call(context, this);\n  return this;\n};\n\n/*\n * Empty each element in the collection.\n *\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').empty();\n */\n\nvar empty = function empty() {\n  return each(this, function (element) {\n    return element.innerHTML = '';\n  });\n};\n\n/**\n * Remove the collection from the DOM.\n *\n * @return {Array} Array containing the removed elements\n * @example\n *     $('.item').remove();\n */\n\nvar remove = function remove() {\n  return each(this, function (element) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  });\n};\n\n/**\n * Replace each element in the collection with the provided new content, and return the array of elements that were replaced.\n *\n * @return {Array} Array containing the replaced elements\n */\n\nvar replaceWith = function replaceWith() {\n  return before.apply(this, arguments).remove();\n};\n\n/**\n * Get the `textContent` from the first, or set the `textContent` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').text('New content');\n */\n\nvar text = function text(value) {\n\n  if (value === undefined) {\n    return this[0].textContent;\n  }\n\n  return each(this, function (element) {\n    return element.textContent = '' + value;\n  });\n};\n\n/**\n * Get the `value` from the first, or set the `value` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('input.firstName').value('New value');\n */\n\nvar val = function val(value) {\n\n  if (value === undefined) {\n    return this[0].value;\n  }\n\n  return each(this, function (element) {\n    return element.value = value;\n  });\n};\n\nvar dom_extra = Object.freeze({\n\tappendTo: appendTo,\n\tempty: empty,\n\tremove: remove,\n\treplaceWith: replaceWith,\n\ttext: text,\n\tval: val\n});\n\n/**\n * @module HTML\n */\n\n/*\n * Get the HTML contents of the first element, or set the HTML contents for each element in the collection.\n *\n * @param {String} [fragment] HTML fragment to set for the element. If this argument is omitted, the HTML contents are returned.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').html();\n *     $('.item').html('<span>more</span>');\n */\n\nvar html = function html(fragment) {\n\n  if (typeof fragment !== 'string') {\n    var element = this.nodeType ? this : this[0];\n    return element ? element.innerHTML : undefined;\n  }\n\n  return each(this, function (element) {\n    return element.innerHTML = fragment;\n  });\n};\n\nvar dom_html = Object.freeze({\n\thtml: html\n});\n\n/**\n * @module closest\n */\n\n/**\n * Return the closest element matching the selector (starting by itself) for each element in the collection.\n *\n * @param {String} selector Filter\n * @param {Object} [context] If provided, matching elements must be a descendant of this element\n * @return {Object} New wrapped collection (containing zero or one element)\n * @chainable\n * @example\n *     $('.selector').closest('.container');\n */\n\nvar closest = function () {\n\n  var closest = function closest(selector, context) {\n    var nodes = [];\n    each(this, function (node) {\n      while (node && node !== context) {\n        if (matches(node, selector)) {\n          nodes.push(node);\n          break;\n        }\n        node = node.parentElement;\n      }\n    });\n    return $$2(uniq(nodes));\n  };\n\n  return typeof Element === 'undefined' || !Element.prototype.closest ? closest : function (selector, context) {\n    var _this = this;\n\n    if (!context) {\n      var _ret = function () {\n        var nodes = [];\n        each(_this, function (node) {\n          var n = node.closest(selector);\n          if (n) {\n            nodes.push(n);\n          }\n        });\n        return {\n          v: $$2(uniq(nodes))\n        };\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    } else {\n      return closest.call(this, selector, context);\n    }\n  };\n}();\n\n\n\nvar selector_closest = Object.freeze({\n\tclosest: closest\n});\n\nvar _this3 = undefined;\n\n/**\n * @module Events\n */\n\n/**\n * Shorthand for `addEventListener`. Supports event delegation if a filter (`selector`) is provided.\n *\n * @param {String} eventNames List of space-separated event types to be added to the element(s)\n * @param {String} [selector] Selector to filter descendants that delegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').on('click', callback);\n *     $('.container').on('click focus', '.item', handler);\n */\n\nvar on = function on(eventNames, selector, handler, useCapture, once) {\n  var _this = this;\n\n  if (typeof selector === 'function') {\n    handler = selector;\n    selector = null;\n  }\n\n  var parts = void 0,\n      namespace = void 0,\n      eventListener = void 0;\n\n  eventNames.split(' ').forEach(function (eventName) {\n\n    parts = eventName.split('.');\n    eventName = parts[0] || null;\n    namespace = parts[1] || null;\n\n    eventListener = proxyHandler(handler);\n\n    each(_this, function (element) {\n\n      if (selector) {\n        eventListener = delegateHandler.bind(element, selector, eventListener);\n      }\n\n      if (once) {\n        (function () {\n          var listener = eventListener;\n          eventListener = function eventListener(event) {\n            off.call(element, eventNames, selector, handler, useCapture);\n            listener.call(element, event);\n          };\n        })();\n      }\n\n      element.addEventListener(eventName, eventListener, useCapture || false);\n\n      getHandlers(element).push({\n        eventName: eventName,\n        handler: handler,\n        eventListener: eventListener,\n        selector: selector,\n        namespace: namespace\n      });\n    });\n  }, this);\n\n  return this;\n};\n\n/**\n * Shorthand for `removeEventListener`.\n *\n * @param {String} eventNames List of space-separated event types to be removed from the element(s)\n * @param {String} [selector] Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').off('click', callback);\n *     $('#my-element').off('myEvent myOtherEvent');\n *     $('.item').off();\n */\n\nvar off = function off() {\n  var eventNames = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var selector = arguments[1];\n\n  var _this2 = this;\n\n  var handler = arguments[2];\n  var useCapture = arguments[3];\n\n\n  if (typeof selector === 'function') {\n    handler = selector;\n    selector = null;\n  }\n\n  var parts = void 0,\n      namespace = void 0,\n      handlers = void 0;\n\n  eventNames.split(' ').forEach(function (eventName) {\n\n    parts = eventName.split('.');\n    eventName = parts[0] || null;\n    namespace = parts[1] || null;\n\n    return each(_this2, function (element) {\n\n      handlers = getHandlers(element);\n\n      each(handlers.filter(function (item) {\n        return (!eventName || item.eventName === eventName) && (!namespace || item.namespace === namespace) && (!handler || item.handler === handler) && (!selector || item.selector === selector);\n      }), function (item) {\n        element.removeEventListener(item.eventName, item.eventListener, useCapture || false);\n        handlers.splice(handlers.indexOf(item), 1);\n      });\n\n      if (!eventName && !namespace && !selector && !handler) {\n        clearHandlers(element);\n      } else if (handlers.length === 0) {\n        clearHandlers(element);\n      }\n    });\n  }, this);\n\n  return this;\n};\n\n/**\n * Add event listener and execute the handler at most once per element.\n *\n * @param eventNames\n * @param selector\n * @param handler\n * @param useCapture\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').one('click', callback);\n */\n\nvar one = function one(eventNames, selector, handler, useCapture) {\n  return on.call(this, eventNames, selector, handler, useCapture, 1);\n};\n\n/**\n * Get event handlers from an element\n *\n * @private\n * @param {Node} element\n * @return {Array}\n */\n\nvar eventKeyProp = '__domtastic_event__';\nvar id = 1;\nvar handlers = {};\nvar unusedKeys = [];\n\nvar getHandlers = function getHandlers(element) {\n  if (!element[eventKeyProp]) {\n    element[eventKeyProp] = unusedKeys.length === 0 ? ++id : unusedKeys.pop();\n  }\n  var key = element[eventKeyProp];\n  return handlers[key] || (handlers[key] = []);\n};\n\n/**\n * Clear event handlers for an element\n *\n * @private\n * @param {Node} element\n */\n\nvar clearHandlers = function clearHandlers(element) {\n  var key = element[eventKeyProp];\n  if (handlers[key]) {\n    handlers[key] = null;\n    element[eventKeyProp] = null;\n    unusedKeys.push(key);\n  }\n};\n\n/**\n * Function to create a handler that augments the event object with some extra methods,\n * and executes the callback with the event and the event data (i.e. `event.detail`).\n *\n * @private\n * @param handler Callback to execute as `handler(event, data)`\n * @return {Function}\n */\n\nvar proxyHandler = function proxyHandler(handler) {\n  return function (event) {\n    return handler.call(this, augmentEvent(event));\n  };\n};\n\nvar eventMethods = {\n  preventDefault: 'isDefaultPrevented',\n  stopImmediatePropagation: 'isImmediatePropagationStopped',\n  stopPropagation: 'isPropagationStopped'\n};\nvar returnTrue = function returnTrue() {\n  return true;\n};\nvar returnFalse = function returnFalse() {\n  return false;\n};\n\n/**\n * Attempt to augment events and implement something closer to DOM Level 3 Events.\n *\n * @private\n * @param {Object} event\n * @return {Function}\n */\n\nvar augmentEvent = function augmentEvent(event) {\n  if (!event.isDefaultPrevented || event.stopImmediatePropagation || event.stopPropagation) {\n    for (var methodName in eventMethods) {\n      (function (methodName, testMethodName, originalMethod) {\n        event[methodName] = function () {\n          this[testMethodName] = returnTrue;\n          return originalMethod && originalMethod.apply(this, arguments);\n        };\n        event[testMethodName] = returnFalse;\n      })(methodName, eventMethods[methodName], event[methodName]);\n    }\n    if (event._preventDefault) {\n      event.preventDefault();\n    }\n  }\n  return event;\n};\n\n/**\n * Function to test whether delegated events match the provided `selector` (filter),\n * if the event propagation was stopped, and then actually call the provided event handler.\n * Use `this` instead of `event.currentTarget` on the event object.\n *\n * @private\n * @param {String} selector Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Event} event\n */\n\nvar delegateHandler = function delegateHandler(selector, handler, event) {\n  var eventTarget = event._target || event.target;\n  var currentTarget = closest.call([eventTarget], selector, _this3)[0];\n  if (currentTarget && currentTarget !== _this3) {\n    if (currentTarget === eventTarget || !(event.isPropagationStopped && event.isPropagationStopped())) {\n      handler.call(currentTarget, event);\n    }\n  }\n};\n\nvar bind = on;\nvar unbind = off;\n\nvar event = Object.freeze({\n\ton: on,\n\toff: off,\n\tone: one,\n\tgetHandlers: getHandlers,\n\tclearHandlers: clearHandlers,\n\tproxyHandler: proxyHandler,\n\tdelegateHandler: delegateHandler,\n\tbind: bind,\n\tunbind: unbind\n});\n\n/**\n * @module trigger\n */\n\nvar reMouseEvent = /^(?:mouse|pointer|contextmenu)|click/;\nvar reKeyEvent = /^key/;\n\n/**\n * Trigger event at element(s)\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event (`params.detail` will be set to this).\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').trigger('anyEventType');\n */\n\nvar trigger = function trigger(type, data) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$bubbles = _ref.bubbles,\n      bubbles = _ref$bubbles === undefined ? true : _ref$bubbles,\n      _ref$cancelable = _ref.cancelable,\n      cancelable = _ref$cancelable === undefined ? true : _ref$cancelable,\n      _ref$preventDefault = _ref.preventDefault,\n      preventDefault = _ref$preventDefault === undefined ? false : _ref$preventDefault;\n\n  var EventConstructor = getEventConstructor(type);\n  var event = new EventConstructor(type, {\n    bubbles: bubbles,\n    cancelable: cancelable,\n    preventDefault: preventDefault,\n    detail: data\n  });\n\n  event._preventDefault = preventDefault;\n\n  return each(this, function (element) {\n    if (!bubbles || isEventBubblingInDetachedTree || isAttachedToDocument(element)) {\n      dispatchEvent(element, event);\n    } else {\n      triggerForPath(element, type, {\n        bubbles: bubbles,\n        cancelable: cancelable,\n        preventDefault: preventDefault,\n        detail: data\n      });\n    }\n  });\n};\n\nvar getEventConstructor = function getEventConstructor(type) {\n  return supportsOtherEventConstructors ? reMouseEvent.test(type) ? MouseEvent : reKeyEvent.test(type) ? KeyboardEvent : CustomEvent : CustomEvent;\n};\n\n/**\n * Trigger event at first element in the collection. Similar to `trigger()`, except:\n *\n * - Event does not bubble\n * - Default event behavior is prevented\n * - Only triggers handler for first matching element\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event\n * @example\n *     $('form').triggerHandler('submit');\n */\n\nvar triggerHandler = function triggerHandler(type, data) {\n  if (this[0]) {\n    trigger.call(this[0], type, data, {\n      bubbles: false,\n      preventDefault: true\n    });\n  }\n};\n\n/**\n * Check whether the element is attached to or detached from) the document\n *\n * @private\n * @param {Node} element Element to test\n * @return {Boolean}\n */\n\nvar isAttachedToDocument = function isAttachedToDocument(element) {\n  if (element === window || element === document) {\n    return true;\n  }\n  return contains(element.ownerDocument.documentElement, element);\n};\n\n/**\n * Dispatch the event at the element and its ancestors.\n * Required to support delegated events in browsers that don't bubble events in detached DOM trees.\n *\n * @private\n * @param {Node} element First element to dispatch the event at\n * @param {String} type Type of the event\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * Will be set to false (but shouldn't matter since events don't bubble anyway).\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n */\n\nvar triggerForPath = function triggerForPath(element, type) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  params.bubbles = false;\n  var event = new CustomEvent(type, params);\n  event._target = element;\n  do {\n    dispatchEvent(element, event);\n  } while (element = element.parentNode);\n};\n\n/**\n * Dispatch event to element, but call direct event methods instead if available\n * (e.g. \"blur()\", \"submit()\") and if the event is non-cancelable.\n *\n * @private\n * @param {Node} element Element to dispatch the event at\n * @param {Object} event Event to dispatch\n */\n\nvar directEventMethods = ['blur', 'focus', 'select', 'submit'];\n\nvar dispatchEvent = function dispatchEvent(element, event) {\n  if (directEventMethods.indexOf(event.type) !== -1 && typeof element[event.type] === 'function' && !event._preventDefault && !event.cancelable) {\n    element[event.type]();\n  } else {\n    element.dispatchEvent(event);\n  }\n};\n\n/**\n * Polyfill for CustomEvent, borrowed from [MDN](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill).\n * Needed to support IE (9, 10, 11) & PhantomJS\n */\n\n(function () {\n  var CustomEvent = function CustomEvent(event) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n\n    var customEvent = document.createEvent('CustomEvent');\n    customEvent.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return customEvent;\n  };\n\n  CustomEvent.prototype = global$1.CustomEvent && global$1.CustomEvent.prototype;\n  global$1.CustomEvent = CustomEvent;\n})();\n\n/*\n * Are events bubbling in detached DOM trees?\n * @private\n */\n\nvar isEventBubblingInDetachedTree = function () {\n  var isBubbling = false;\n  var doc = global$1.document;\n  if (doc) {\n    var parent = doc.createElement('div');\n    var child = parent.cloneNode();\n    parent.appendChild(child);\n    parent.addEventListener('e', function () {\n      isBubbling = true;\n    });\n    child.dispatchEvent(new CustomEvent('e', { bubbles: true }));\n  }\n  return isBubbling;\n}();\n\nvar supportsOtherEventConstructors = function () {\n  try {\n    new window.MouseEvent('click');\n  } catch (e) {\n    return false;\n  }\n  return true;\n}();\n\nvar event_trigger = Object.freeze({\n\ttrigger: trigger,\n\ttriggerHandler: triggerHandler\n});\n\n/**\n * @module Ready\n */\n\n/**\n * Execute callback when `DOMContentLoaded` fires for `document`, or immediately if called afterwards.\n *\n * @param handler Callback to execute when initial DOM content is loaded.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $(document).ready(callback);\n */\n\nvar ready = function ready(handler) {\n  if (/complete|loaded|interactive/.test(document.readyState) && document.body) {\n    handler();\n  } else {\n    document.addEventListener('DOMContentLoaded', handler, false);\n  }\n  return this;\n};\n\nvar event_ready = Object.freeze({\n\tready: ready\n});\n\n/**\n * @module noConflict\n */\n\n/*\n * Save the previous value of the global `$` variable, so that it can be restored later on.\n * @private\n */\n\nvar previousLib = global$1.$;\n\n/**\n * In case another library sets the global `$` variable before DOMtastic does,\n * this method can be used to return the global `$` to that other library.\n *\n * @return {Object} Reference to DOMtastic.\n * @example\n *     var domtastic = $.noConflict();\n */\n\nvar noConflict = function noConflict() {\n  global$1.$ = previousLib;\n  return this;\n};\n\nvar noconflict = Object.freeze({\n\tnoConflict: noConflict\n});\n\n/**\n * @module Selector (extra)\n */\n\n/**\n * Return children of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').children();\n *     $('.selector').children('.filter');\n */\n\nvar children = function children(selector) {\n  var nodes = [];\n  each(this, function (element) {\n    if (element.children) {\n      each(element.children, function (child) {\n        if (!selector || selector && matches(child, selector)) {\n          nodes.push(child);\n        }\n      });\n    }\n  });\n  return $$2(nodes);\n};\n\n/**\n * Return child nodes of each element in the collection, including text and comment nodes.\n *\n * @return {Object} New wrapped collection\n * @example\n *     $('.selector').contents();\n */\n\nvar contents = function contents() {\n  var nodes = [];\n  each(this, function (element) {\n    return nodes.push.apply(nodes, toArray(element.childNodes));\n  });\n  return $$2(nodes);\n};\n\n/**\n * Return a collection containing only the one at the specified index.\n *\n * @param {Number} index\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.items').eq(1)\n *     // The second item; result is the same as doing $($('.items')[1]);\n */\n\nvar eq = function eq(index) {\n  return slice.call(this, index, index + 1);\n};\n\n/**\n * Return the DOM element at the specified index.\n *\n * @param {Number} index\n * @return {Node} Element at the specified index\n * @example\n *     $('.items').get(1)\n *     // The second element; result is the same as doing $('.items')[1];\n */\n\nvar get$1 = function get$1(index) {\n  return this[index];\n};\n\n/**\n * Return the parent elements of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').parent();\n *     $('.selector').parent('.filter');\n */\n\nvar parent = function parent(selector) {\n  var nodes = [];\n  each(this, function (element) {\n    if (!selector || selector && matches(element.parentNode, selector)) {\n      nodes.push(element.parentNode);\n    }\n  });\n  return $$2(nodes);\n};\n\n/**\n * Return the sibling elements of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').siblings();\n *     $('.selector').siblings('.filter');\n */\n\nvar siblings = function siblings(selector) {\n  var nodes = [];\n  each(this, function (element) {\n    return each(element.parentNode.children, function (sibling) {\n      if (sibling !== element && (!selector || selector && matches(sibling, selector))) {\n        nodes.push(sibling);\n      }\n    });\n  });\n  return $$2(nodes);\n};\n\n/**\n * Create a new, sliced collection.\n *\n * @param {Number} start\n * @param {Number} end\n * @return {Object} New wrapped collection\n * @example\n *     $('.items').slice(1, 3)\n *     // New wrapped collection containing the second, third, and fourth element.\n */\n\nvar slice = function slice(start, end) {\n  return $$2([].slice.apply(this, arguments));\n};\n\nvar selector_extra = Object.freeze({\n\tchildren: children,\n\tcontents: contents,\n\teq: eq,\n\tget: get$1,\n\tparent: parent,\n\tsiblings: siblings,\n\tslice: slice\n});\n\n/**\n * @module Type\n */\n\n/*\n * Determine if the argument passed is a Javascript function object.\n *\n * @param {Object} [obj] Object to test whether or not it is a function.\n * @return {boolean}\n * @example\n *     $.isFunction(function(){});\n *     // true\n * @example\n *     $.isFunction({});\n *     // false\n */\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === 'function';\n};\n\n/*\n * Determine whether the argument is an array.\n *\n * @param {Object} [obj] Object to test whether or not it is an array.\n * @return {boolean}\n * @example\n *     $.isArray([]);\n *     // true\n * @example\n *     $.isArray({});\n *     // false\n */\n\nvar isArray = Array.isArray;\n\nvar type = Object.freeze({\n\tisFunction: isFunction,\n\tisArray: isArray\n});\n\n/**\n * @module API\n */\n\nvar api = {};\nvar $$$1 = {};\n\n// Import modules to build up the API\n\nif (typeof selector !== 'undefined') {\n  $$$1 = $$2;\n  $$$1.matches = matches;\n  api.find = find;\n}\n\nextend($$$1, dom_contains, noconflict, type);\nextend(api, array, css$1, dom_attr, dom, dom_class, dom_data, dom_extra, dom_html, event, event_trigger, event_ready, selector_closest, selector_extra);\n\n$$$1.fn = api;\n\n// Version\n\n$$$1.version = '__VERSION__';\n\n// Util\n\n$$$1.extend = extend;\n\n// Provide base class to extend from\n\nif (typeof BaseClass !== 'undefined') {\n  $$$1.BaseClass = BaseClass($$$1.fn);\n}\n\n// Export interface\n\nvar $$1 = $$$1;\n\nfunction disableDarkTheme() {\n  if (window.localStorage.getItem('higlass.disableDarkTheme')) {\n    window.localStorage.removeItem('higlass.disableDarkTheme');\n    $$1(document.body).addClass('dark-theme');\n    $$1(document.body).removeClass('dark-theme-disabled');\n  } else {\n    window.localStorage.setItem('higlass.disableDarkTheme', 1);\n    $$1(document.body).removeClass('dark-theme');\n    $$1(document.body).addClass('dark-theme-disabled');\n  }\n}\n\nexports.disableDarkTheme = disableDarkTheme;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]}