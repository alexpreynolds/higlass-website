/* Copyright HiGlass Team: Global scripts */
!(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.base=e.base||{})})(this,(function(e){"use strict";function t(){window.localStorage.getItem("higlass.disableDarkTheme")?(window.localStorage.removeItem("higlass.disableDarkTheme"),Ct(document.body).addClass("dark-theme"),Ct(document.body).removeClass("dark-theme-disabled")):(window.localStorage.setItem("higlass.disableDarkTheme",1),Ct(document.body).removeClass("dark-theme"),Ct(document.body).addClass("dark-theme-disabled"))}var n=new Function("return this")(),i=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n},r=function(e,t,n){var i=e.length;if(void 0!==i&&void 0===e.nodeType)for(var r=0;r<i;r++)t.call(n,e[r],r,e);else t.call(n,e,0,e);return e},o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){for(var n in t)e[n]=t[n]})),e},s=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},u=!1,a=/^\s*<(\w+|!)[^>]*>/,c=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,f=/^[\.#]?[\w-]*$/,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;if(e){if(e instanceof y)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:a.test(e)?n=v(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=p(e,t))}else n=document.querySelectorAll(null);return m(n)},d=function(e){var t=[];return r(this,(function(n){return r(p(e,n),(function(e){t.indexOf(e)===-1&&t.push(e)}))})),l(t)},h=(function(){var e="undefined"!=typeof Element?Element.prototype:n,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return function(e,n){return t.call(e,n)}})(),p=function(e,t){var n=f.test(e);if(n){if("#"===e[0]){var i=(t.getElementById?t:document).getElementById(e.slice(1));return i?[i]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},v=function(e){if(c.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),i=n.childNodes;n.innerHTML=e;for(var r=0,o=i.length;r<o;r++)t.push(i[r]);return t},m=function(e){return u||(y.prototype=l.fn,y.prototype.constructor=y,u=!0),new y(e)},y=function(e){for(var t=0,n=e.length;t<n;)this[t]=e[t++];this.length=n},b=Object.freeze({$:l,find:d,matches:h,Wrapper:y}),g=Array.prototype,C=g.every,E=function(e,t){var n="function"==typeof e?e:function(t){return h(t,e)};return l(g.filter.call(this,n,t))},N=function(e,t){return r(this,e,t)},O=N,w=g.indexOf,T=g.map,S=g.pop,j=g.push,D=g.reduce,_=g.reduceRight,A=function(){return l(i(this).reverse())},L=g.shift,z=g.some,k=g.unshift,x=Object.freeze({every:C,filter:E,forEach:N,each:O,indexOf:w,map:T,pop:S,push:j,reduce:D,reduceRight:_,reverse:A,shift:L,some:z,unshift:k}),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},H=(function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}})(),I=function(e){var t=function e(){P(this,e),y.call(this,l.apply(void 0,arguments))};return o(t.prototype,e),t},B=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},$=function(e){return e.replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))},q=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},F=function(e,t){var n=void 0,i=void 0,o=void 0;if("string"==typeof e){if(e=$(e),"undefined"==typeof t){var s=this.nodeType?this:this[0];if(s)return o=s.style[e],B(o)?parseFloat(o):o;return}n={},n[e]=t}else{n=e;for(i in n)o=n[i],delete n[i],n[$(i)]=o}return r(this,(function(e){for(i in n)n[i]||0===n[i]?e.style[i]=n[i]:e.style.removeProperty(q(i))})),this},R=Object.freeze({css:F}),U=Array.prototype.forEach,W=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforeend",t);else if(t instanceof Node)this.appendChild(t);else{var n=t instanceof NodeList?i(t):t;U.call(n,this.appendChild.bind(this))}else J(this,e,t);return this},K=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterbegin",t);else if(t instanceof Node)this.insertBefore(t,this.firstChild);else{var n=t instanceof NodeList?i(t):t;U.call(n.reverse(),e.bind(this))}else J(this,e,t);return this},V=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforebegin",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this);else{var n=t instanceof NodeList?i(t):t;U.call(n,e.bind(this))}else J(this,e,t);return this},Y=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterend",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this.nextSibling);else{var n=t instanceof NodeList?i(t):t;U.call(n.reverse(),e.bind(this))}else J(this,e,t);return this},Z=function(){return l(G(this))},G=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,(function(e){return e.cloneNode(!0)})):e},J=function(e,t,n){for(var i=e.length;i--;){var r=0===i?n:G(n);t.call(e[i],r)}},Q=Object.freeze({append:W,prepend:K,before:V,after:Y,clone:Z,_clone:G,_each:J}),X=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return r(this,(function(n){if("object"===("undefined"==typeof e?"undefined":M(e)))for(var i in e)n.setAttribute(i,e[i]);else n.setAttribute(e,t)}))},ee=function(e){return r(this,(function(t){return t.removeAttribute(e)}))},te=Object.freeze({attr:X,removeAttr:ee}),ne=function(e){return e&&e.length&&r(e.split(" "),se.bind(this,"add")),this},ie=function(e){return e&&e.length&&r(e.split(" "),se.bind(this,"remove")),this},re=function(e){return e&&e.length&&r(e.split(" "),se.bind(this,"toggle")),this},oe=function(e){return(this.nodeType?[this]:this).some((function(t){return t.classList.contains(e)}))},se=function(e,t){return r(this,(function(n){return n.classList[e](t)}))},ue=Object.freeze({addClass:ne,removeClass:ie,toggleClass:re,hasClass:oe}),ae=function(e,t){return!(!e||!t||e===t)&&(e.contains?e.contains(t):!!e.compareDocumentPosition&&!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED))},ce=Object.freeze({contains:ae}),fe="__DOMTASTIC_DATA__",le=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n[fe]?n[fe][e]:void 0}return r(this,(function(n){n[fe]=n[fe]||{},n[fe][e]=t}))},de=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return r(this,(function(n){return n[e]=t}))},he=Object.freeze({data:le,prop:de}),pe=function(e){var t="string"==typeof e?l(e):e;return W.call(t,this),this},ve=function(){return r(this,(function(e){return e.innerHTML=""}))},me=function(){return r(this,(function(e){e.parentNode&&e.parentNode.removeChild(e)}))},ye=function(){return V.apply(this,arguments).remove()},be=function(e){return void 0===e?this[0].textContent:r(this,(function(t){return t.textContent=""+e}))},ge=function(e){return void 0===e?this[0].value:r(this,(function(t){return t.value=e}))},Ce=Object.freeze({appendTo:pe,empty:ve,remove:me,replaceWith:ye,text:be,val:ge}),Ee=function(e){if("string"!=typeof e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return r(this,(function(t){return t.innerHTML=e}))},Ne=Object.freeze({html:Ee}),Oe=(function(){var e=function(e,t){var n=[];return r(this,(function(i){for(;i&&i!==t;){if(h(i,e)){n.push(i);break}i=i.parentElement}})),l(s(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){var i=this;if(n)return e.call(this,t,n);var o=(function(){var e=[];return r(i,(function(n){var i=n.closest(t);i&&e.push(i)})),{v:l(s(e))}})();return"object"===("undefined"==typeof o?"undefined":M(o))?o.v:void 0}:e})(),we=Object.freeze({closest:Oe}),Te=void 0,Se=function(e,t,n,i,o){var s=this;"function"==typeof t&&(n=t,t=null);var u=void 0,a=void 0,c=void 0;return e.split(" ").forEach((function(f){u=f.split("."),f=u[0]||null,a=u[1]||null,c=Me(n),r(s,(function(r){t&&(c=$e.bind(r,t,c)),o&&!(function(){var o=c;c=function(s){je.call(r,e,t,n,i),o.call(r,s)}})(),r.addEventListener(f,c,i||!1),ke(r).push({eventName:f,handler:n,eventListener:c,selector:t,namespace:a})}))}),this),this},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this,i=arguments[2],o=arguments[3];"function"==typeof t&&(i=t,t=null);var s=void 0,u=void 0,a=void 0;return e.split(" ").forEach((function(e){return s=e.split("."),e=s[0]||null,u=s[1]||null,r(n,(function(n){a=ke(n),r(a.filter((function(n){return!(e&&n.eventName!==e||u&&n.namespace!==u||i&&n.handler!==i||t&&n.selector!==t)})),(function(e){n.removeEventListener(e.eventName,e.eventListener,o||!1),a.splice(a.indexOf(e),1)})),e||u||t||i?0===a.length&&xe(n):xe(n)}))}),this),this},De=function(e,t,n,i){return Se.call(this,e,t,n,i,1)},_e="__domtastic_event__",Ae=1,Le={},ze=[],ke=function(e){e[_e]||(e[_e]=0===ze.length?++Ae:ze.pop());var t=e[_e];return Le[t]||(Le[t]=[])},xe=function(e){var t=e[_e];Le[t]&&(Le[t]=null,e[_e]=null,ze.push(t))},Me=function(e){return function(t){return e.call(this,Be(t))}},Pe={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},He=function(){return!0},Ie=function(){return!1},Be=function(e){if(!e.isDefaultPrevented||e.stopImmediatePropagation||e.stopPropagation){for(var t in Pe)!(function(t,n,i){e[t]=function(){return this[n]=He,i&&i.apply(this,arguments)},e[n]=Ie})(t,Pe[t],e[t]);e._preventDefault&&e.preventDefault()}return e},$e=function(e,t,n){var i=n._target||n.target,r=Oe.call([i],e,Te)[0];r&&r!==Te&&(r!==i&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(r,n))},qe=Se,Fe=je,Re=Object.freeze({on:Se,off:je,one:De,getHandlers:ke,clearHandlers:xe,proxyHandler:Me,delegateHandler:$e,bind:qe,unbind:Fe}),Ue=/^(?:mouse|pointer|contextmenu)|click/,We=/^key/,Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.bubbles,o=void 0===i||i,s=n.cancelable,u=void 0===s||s,a=n.preventDefault,c=void 0!==a&&a,f=Ve(e),l=new f(e,{bubbles:o,cancelable:u,preventDefault:c,detail:t});return l._preventDefault=c,r(this,(function(n){!o||Xe||Ze(n)?Qe(n,l):Ge(n,e,{bubbles:o,cancelable:u,preventDefault:c,detail:t})}))},Ve=function(e){return et?Ue.test(e)?MouseEvent:We.test(e)?KeyboardEvent:CustomEvent:CustomEvent},Ye=function(e,t){this[0]&&Ke.call(this[0],e,t,{bubbles:!1,preventDefault:!0})},Ze=function(e){return e===window||e===document||ae(e.ownerDocument.documentElement,e)},Ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bubbles=!1;var i=new CustomEvent(t,n);i._target=e;do Qe(e,i);while(e=e.parentNode)},Je=["blur","focus","select","submit"],Qe=function(e,t){Je.indexOf(t.type)===-1||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!(function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=n.CustomEvent&&n.CustomEvent.prototype,n.CustomEvent=e})();var Xe=(function(){var e=!1,t=n.document;if(t){var i=t.createElement("div"),r=i.cloneNode();i.appendChild(r),i.addEventListener("e",(function(){e=!0})),r.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e})(),et=(function(){try{new window.MouseEvent("click")}catch(e){return!1}return!0})(),tt=Object.freeze({trigger:Ke,triggerHandler:Ye}),nt=function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this},it=Object.freeze({ready:nt}),rt=n.$,ot=function(){return n.$=rt,this},st=Object.freeze({noConflict:ot}),ut=function(e){var t=[];return r(this,(function(n){n.children&&r(n.children,(function(n){(!e||e&&h(n,e))&&t.push(n)}))})),l(t)},at=function(){var e=[];return r(this,(function(t){return e.push.apply(e,i(t.childNodes))})),l(e)},ct=function(e){return ht.call(this,e,e+1)},ft=function(e){return this[e]},lt=function(e){var t=[];return r(this,(function(n){(!e||e&&h(n.parentNode,e))&&t.push(n.parentNode)})),l(t)},dt=function(e){var t=[];return r(this,(function(n){return r(n.parentNode.children,(function(i){i!==n&&(!e||e&&h(i,e))&&t.push(i)}))})),l(t)},ht=function(e,t){return l([].slice.apply(this,arguments))},pt=Object.freeze({children:ut,contents:at,eq:ct,get:ft,parent:lt,siblings:dt,slice:ht}),vt=function(e){return"function"==typeof e},mt=Array.isArray,yt=Object.freeze({isFunction:vt,isArray:mt}),bt={},gt={};"undefined"!=typeof b&&(gt=l,gt.matches=h,bt.find=d),o(gt,ce,st,yt),o(bt,x,R,te,Q,ue,he,Ce,Ne,Re,tt,it,we,pt),gt.fn=bt,gt.version="__VERSION__",gt.extend=o,"undefined"!=typeof I&&(gt.BaseClass=I(gt.fn));var Ct=gt,Et=function(e,t){for(var n=e.parentNode;n&&"BODY"!==n.tagName&&n.className.indexOf(t)<0;)n=n.parentNode;return n},Nt=(function(){function e(t){var n=this;P(this,e),this.toggler=Ct(t),this.menu=Ct(Et(t,"is-toggable")),this.toggler.on("click",(function(){return n.toggle()}))}return H(e,[{key:"close",value:function(){this.menu.hasClass("is-active")&&(this.menu.removeClass("is-active"),this.toggler.removeClass("is-active"))}},{key:"open",value:function(){this.menu.hasClass("is-active")||(this.menu.addClass("is-active"),this.toggler.addClass("is-active"))}},{key:"toggle",value:function(){this.menu.toggleClass("is-active"),this.toggler.toggleClass("is-active")}}]),e})();new Nt(document.querySelector("#topbar .menu-toggler"));e.disableDarkTheme=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=base.js.map
